{"version":3,"sources":["Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Services/apiServices.js","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","App.js","index.js"],"names":["SearchBar","state","searcQuery","handleChange","e","setState","searchQuery","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","info","className","this","type","onChange","name","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","getLargeImageURL","src","alt","onClick","ImageGallery","images","onSelect","map","tags","id","axios","defaults","baseURL","Api","getPictures","query","page","get","then","resp","data","hits","Loader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","React","Button","fetchImages","App","loading","error","showModal","selectedImage","prevState","catch","_error","finally","Squery","toggleModal","handleSelectImage","imageUrl","_","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.353dba42.chunk.js","sourcesContent":["// import { queries } from '@testing-library/dom';\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\nimport React, { Component } from \"react\";\r\n// import Api from \"../Services/apiServices\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searcQuery: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      searchQuery: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === \"\") {\r\n      toast.info(\"Введите название картинки\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            name=\"query\"\r\n            value={this.props.searcQuery}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, getLargeImageURL }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        onClick={() => getLargeImageURL(largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    alt: PropTypes.string,\r\n    getLargeImageURL: PropTypes.func.isRequired,\r\n  }),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\n\r\nfunction ImageGallery({ images, onSelect })  {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({  webformatURL, largeImageURL, tags, id}) => (\r\n        <ImageGalleryItem\r\n          // image={image}\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          alt={tags}\r\n          getLargeImageURL={onSelect}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"23035715-e0cb760b48ddc49b0eff80b6c\";\r\n\r\nfunction getPictures({ query, page }) {\r\n  return axios\r\n    .get(\r\n      `/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`\r\n    )\r\n    .then((resp) => resp.data.hits);\r\n}\r\n\r\nconst Api = {\r\n  getPictures,\r\n};\r\nexport default Api;\r\n","import MyLoader from \"react-loader-spinner\";\r\nfunction Loader () {\r\n \r\n    return (\r\n      <MyLoader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n\r\nexport  default Loader;  \r\n\r\n\r\n","import React from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nclass  Modal extends React.Component {\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\ncomponentDidMount() {\r\n  window.addEventListener('keydown', this.handleKeyDown);\r\n}\r\ncomponentWillUnmount() {\r\n  window.removeEventListener('keydown', this.handleKeyDown);\r\n}\r\nhandleBackdropClick = e => {\r\n  if (e.currentTarget === e.target) {\r\n    this.props.onClose();\r\n  }\r\n};\r\nrender(){\r\n  return  createPortal (\r\n    <div onClick={this.handleBackdropClick} className=\"Overlay\">\r\n      <div className=\"Modal\">\r\n        <img src={this.props.largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n \r\n      modalRoot,\r\n  );\r\n}\r\n\r\n \r\n};\r\n\r\nexport default Modal;\r\n\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <button type=\"button\" onClick={fetchImages}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport SearchBar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Api from \"./Components/Services/apiServices\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Button from \"./Components/Button/Button\";\n\n// function App() {\n//   return <div className=\"App\"></div>;\n// }\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    loading: false,\n    error: null,\n    showModal: false,\n    selectedImage: \"\",\n    page: 1,\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages();\n    }\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { query, page } = this.state;\n    this.setState({ loading: true });\n    Api.getPictures({ query, page })\n      .then((hits) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((_error) => this.setState({ error: true }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSubmit = (Squery) => {\n    this.setState({ images: [], query: Squery, page: 1 });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleSelectImage = (imageUrl) => {\n    this.setState({ selectedImage: imageUrl });\n    this.toggleModal();\n  };\n\n  render() {\n    const { selectedImage, showModal, loading, images, error } = this.state;\n    return (\n      <div>\n        {error && toast.error(\"OOO, something is wrong!\")}\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery\n          images={this.state.images}\n          onSelect={this.handleSelectImage}\n        />\n        {images.length > 0 && <Button fetchImages={this.fetchImages} />}\n\n        {loading && <Loader />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={selectedImage} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}